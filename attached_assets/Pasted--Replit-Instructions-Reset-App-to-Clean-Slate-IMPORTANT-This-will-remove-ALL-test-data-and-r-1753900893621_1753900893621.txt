# Replit Instructions: Reset App to Clean Slate

**IMPORTANT: This will remove ALL test data and return the app to a fresh state for proper testing.**

## Step 1: Remove the Non-Functional Buttons

Find and remove these buttons from the UI:

```javascript
// REMOVE these buttons from the task page:
// - "Clean Duplicates" button (red)
// - "Debug Recurring" button (purple)

// They likely look something like this - DELETE them:
<button className="btn-clean-duplicates" onClick={cleanDuplicates}>
  Clean Duplicates
</button>

<button className="btn-debug-recurring" onClick={debugRecurring}>
  Debug Recurring
</button>

// Also remove any associated functions:
const cleanDuplicates = () => { ... }  // DELETE
const debugRecurring = () => { ... }   // DELETE
```

## Step 2: Clear All Data Storage

Create a complete reset function that clears EVERYTHING:

```javascript
// Add this reset function
const resetAppToCleanSlate = () => {
  if (!confirm('This will DELETE all tasks, recurring tasks, and test data. Continue?')) {
    return;
  }
  
  // Clear localStorage
  localStorage.clear();
  
  // Clear sessionStorage
  sessionStorage.clear();
  
  // If using IndexedDB, clear it
  if ('indexedDB' in window) {
    indexedDB.databases().then(databases => {
      databases.forEach(db => indexedDB.deleteDatabase(db.name));
    });
  }
  
  // Reload the page to start fresh
  window.location.reload();
};

// Add a temporary reset button (you can remove this after testing)
// Put this in the admin/manager section
<button 
  onClick={resetAppToCleanSlate}
  style={{
    background: '#dc2626',
    color: 'white',
    padding: '10px 20px',
    border: 'none',
    borderRadius: '6px',
    cursor: 'pointer'
  }}
>
  ðŸ”„ Reset App (Delete All Data)
</button>
```

## Step 3: Initialize with Clean Default Data

After reset, the app should start with minimal test data:

```javascript
// In your app initialization
const initializeCleanData = () => {
  // Check if data exists
  const existingTasks = localStorage.getItem('tasks');
  
  if (!existingTasks) {
    // Set up minimal clean data
    const defaultData = {
      tasks: [],
      recurringTasks: [],
      inventory: [],
      users: [
        { id: 1, name: 'Alex Martinez', role: 'Staff' },
        { id: 2, name: 'Dan Wilson', role: 'Manager' },
        { id: 3, name: 'Matt Carlson', role: 'Corporate' }
      ],
      currentUser: { id: 3, name: 'Matt Carlson', role: 'Corporate' }
    };
    
    // Save default data
    Object.keys(defaultData).forEach(key => {
      localStorage.setItem(key, JSON.stringify(defaultData[key]));
    });
    
    console.log('App initialized with clean data');
  }
};

// Call on app start
initializeCleanData();
```

## Step 4: Remove All Hardcoded Test Tasks

Search your code and remove ANY hardcoded tasks:

```javascript
// REMOVE any code that creates these tasks:
// - "Monthly Safety Inspection"
// - "Bi-Weekly Equipment Check"
// - "TEST" tasks
// - Any other hardcoded test data

// Look for and DELETE code like:
const testTasks = [
  { title: 'Monthly Safety Inspection', ... },
  { title: 'Bi-Weekly Equipment Check', ... }
];

// Or:
if (title === 'Monthly Safety Inspection') { ... }

// Or any place where these specific task names appear
```

## Step 5: Clean Task Generation Code

Ensure task generation doesn't create any test tasks:

```javascript
// The task generation should ONLY create tasks from recurring tasks
// It should NEVER create tasks with hardcoded titles

// BAD - Remove this:
const createTestTasks = () => {
  createTask({ title: 'Monthly Safety Inspection', ... });
};

// GOOD - Keep this:
const generateFromRecurring = (recurringTask) => {
  // Creates tasks based on whatever is in recurringTask
  createTask({
    title: recurringTask.title,  // Uses the actual recurring task title
    ...recurringTask
  });
};
```

## Step 6: Verify Clean State

After reset, you should see:
- **Tasks page**: Empty (0 tasks)
- **Recurring Tasks page**: Empty (0 recurring tasks)  
- **Inventory page**: Empty (0 items)
- **No red "Clean Duplicates" button**
- **No purple "Debug Recurring" button**
- **Only standard buttons**: "New Task", filters, etc.

## Testing After Reset:

1. Click the Reset button
2. Confirm the deletion
3. Page reloads with empty data
4. Create a NEW recurring task (e.g., "Water Plants")
5. Set it to monthly or bi-weekly
6. Test if the date logic works correctly with YOUR task

## One-Time Cleanup Code (Optional)

If the reset button doesn't work, use this nuclear option in the browser console:

```javascript
// Run in browser console to force clean everything
localStorage.clear();
sessionStorage.clear();
location.reload();
```

This gives you a completely fresh start to properly test the recurring task system without any interference from test data or broken buttons.