Add automatic tray generation when seeding tasks are created or completed:

1. UPDATE THE TASK CREATION/COMPLETION TO GENERATE TRAYS:
   
   First, add a tray generation function:
   ```javascript
   // In a shared utils file or at the top of your app
   const generateTrayId = (cropType, location = 'K') => {
     const date = new Date();
     const dateStr = `${(date.getMonth() + 1).toString().padStart(2, '0')}${date.getDate().toString().padStart(2, '0')}${date.getFullYear().toString().slice(-2)}`;
     
     // Determine category code
     let categoryCode = 'XX';
     if (cropType.includes('Microgreen')) {
       categoryCode = 'MG';
     } else if (cropType.includes('Leafy Green') || cropType.includes('Lettuce') || cropType.includes('Arugula')) {
       categoryCode = 'LG';
     } else if (cropType.includes('Herb') || cropType.includes('Basil')) {
       categoryCode = 'HB';
     }
     
     // Get crop abbreviation
     const cropAbbrev = cropType.split(' ')[0].substring(0, 3).toUpperCase();
     
     // Generate random tray number and section
     const trayNum = Math.floor(Math.random() * 9) + 1;
     const section = String.fromCharCode(65 + Math.floor(Math.random() * 4)); // A-D
     
     return `${location}${dateStr}-${categoryCode}-${cropAbbrev}-${trayNum}${section}`;
   };

UPDATE THE TASK HANDLING TO CREATE TRAYS:
In your Tasks component, update the handleStartTask or handleCompleteTask:
javascriptconst handleCompleteTask = (taskId, notes) => {
  const task = tasks.find(t => t.id === taskId);
  
  // Check if this is a seeding task
  if (task && (task.type === 'Seeding - Microgreens' || task.type === 'Seeding - Leafy Greens')) {
    // Extract crop type from task title or type
    let cropType = '';
    let cropId = null;
    
    // Parse task title to determine crop
    if (task.title.toLowerCase().includes('romaine')) {
      cropType = 'Romaine Lettuce';
      cropId = 1;
    } else if (task.title.toLowerCase().includes('broccoli')) {
      cropType = 'Broccoli Microgreens';
      cropId = 2;
    } else if (task.title.toLowerCase().includes('arugula')) {
      cropType = 'Arugula';
      cropId = 3;
    } else if (task.title.toLowerCase().includes('basil')) {
      cropType = 'Basil';
      cropId = 4;
    }
    // Add more crop detection as needed
    
    if (cropType && cropId) {
      // Generate new tray
      const newTray = {
        id: generateTrayId(cropType),
        cropType: cropType,
        cropId: cropId,
        datePlanted: new Date().toISOString().split('T')[0],
        assignedSystem: task.location || 'Unassigned', // Get from task if available
        estimatedHarvestDate: calculateHarvestDate(cropId),
        status: 'growing',
        actualYield: null,
        notes: `Created from task: ${task.title}`,
        createdByTask: task.id,
        createdBy: currentUser.name
      };
      
      // Add tray to production data
      addTrayToProduction(newTray);
      
      // Log the creation
      console.log('Tray created:', newTray);
      
      // Optional: Show success message
      alert(`âœ… Tray ${newTray.id} created for ${cropType}`);
    }
  }
  
  // Continue with normal task completion
  setTasks(prevTasks => 
    prevTasks.map(t => 
      t.id === taskId 
        ? { 
            ...t, 
            status: 'completed',
            completedAt: new Date().toISOString(),
            completionNotes: notes
          }
        : t
    )
  );
  
  setShowTaskModal(false);
};

ADD HELPER FUNCTION TO CALCULATE HARVEST DATE:
javascriptconst calculateHarvestDate = (cropId) => {
  // Get crop data (this would come from your crops state)
  const cropGrowthTimes = {
    1: 35, // Romaine
    2: 7,  // Broccoli Microgreens
    3: 28, // Arugula
    4: 42  // Basil
  };
  
  const growthDays = cropGrowthTimes[cropId] || 30;
  const harvestDate = new Date();
  harvestDate.setDate(harvestDate.getDate() + growthDays);
  
  return harvestDate.toISOString().split('T')[0];
};

UPDATE RECURRING TASKS TO INCLUDE TRAY GENERATION SETTINGS:
In the Recurring Tasks page, add fields for tray generation:
jsx// In RecurringTaskModal or checklist builder
const [generatesTray, setGeneratesTray] = useState(false);
const [traySettings, setTraySettings] = useState({
  cropType: '',
  cropId: null,
  defaultSystem: '',
  quantity: 1
});

// Add to the form
{(taskData.type === 'Seeding - Microgreens' || taskData.type === 'Seeding - Leafy Greens') && (
  <div className="tray-generation-section">
    <label className="checkbox-label">
      <input
        type="checkbox"
        checked={generatesTray}
        onChange={(e) => setGeneratesTray(e.target.checked)}
      />
      Auto-generate tray when task is completed
    </label>
    
    {generatesTray && (
      <>
        <label>
          Crop Type
          <select
            value={traySettings.cropId}
            onChange={(e) => {
              const crop = crops.find(c => c.id === parseInt(e.target.value));
              setTraySettings({
                ...traySettings,
                cropId: crop.id,
                cropType: crop.name
              });
            }}
          >
            <option value="">Select Crop</option>
            {crops.map(crop => (
              <option key={crop.id} value={crop.id}>
                {crop.name}
              </option>
            ))}
          </select>
        </label>
        
        <label>
          Default System/Location
          <input
            type="text"
            value={traySettings.defaultSystem}
            onChange={(e) => setTraySettings({...traySettings, defaultSystem: e.target.value})}
            placeholder="e.g., Tower 3 - Level A"
          />
        </label>
        
        <label>
          Number of Trays
          <input
            type="number"
            value={traySettings.quantity}
            onChange={(e) => setTraySettings({...traySettings, quantity: parseInt(e.target.value)})}
            min="1"
            max="50"
          />
        </label>
      </>
    )}
  </div>
)}

CREATE A CENTRALIZED TRAY MANAGEMENT SERVICE:
javascript// In a services/trayService.js file
export const TrayService = {
  // Get all trays
  getTrays: () => {
    const trays = localStorage.getItem('productionTrays');
    return trays ? JSON.parse(trays) : [];
  },
  
  // Add new tray
  addTray: (tray) => {
    const trays = TrayService.getTrays();
    trays.push(tray);
    localStorage.setItem('productionTrays', JSON.stringify(trays));
    
    // Trigger update event
    window.dispatchEvent(new CustomEvent('trayAdded', { detail: tray }));
  },
  
  // Update tray
  updateTray: (trayId, updates) => {
    const trays = TrayService.getTrays();
    const index = trays.findIndex(t => t.id === trayId);
    if (index !== -1) {
      trays[index] = { ...trays[index], ...updates };
      localStorage.setItem('productionTrays', JSON.stringify(trays));
      
      // Trigger update event
      window.dispatchEvent(new CustomEvent('trayUpdated', { detail: trays[index] }));
    }
  },
  
  // Generate multiple trays
  generateMultipleTrays: (cropType, cropId, quantity, system) => {
    const trays = [];
    for (let i = 0; i < quantity; i++) {
      trays.push({
        id: generateTrayId(cropType),
        cropType,
        cropId,
        datePlanted: new Date().toISOString().split('T')[0],
        assignedSystem: system,
        estimatedHarvestDate: calculateHarvestDate(cropId),
        status: 'growing',
        actualYield: null,
        notes: ''
      });
    }
    
    // Add all trays
    const existingTrays = TrayService.getTrays();
    const updatedTrays = [...existingTrays, ...trays];
    localStorage.setItem('productionTrays', JSON.stringify(updatedTrays));
    
    return trays;
  }
};

UPDATE PRODUCTION DATA PAGE TO LISTEN FOR TRAY UPDATES:
jsx// In ProductionData component
useEffect(() => {
  // Listen for tray updates
  const handleTrayAdded = (event) => {
    setTrays(prevTrays => [...prevTrays, event.detail]);
  };
  
  const handleTrayUpdated = () => {
    // Refresh trays from storage
    setTrays(TrayService.getTrays());
  };
  
  window.addEventListener('trayAdded', handleTrayAdded);
  window.addEventListener('trayUpdated', handleTrayUpdated);
  
  return () => {
    window.removeEventListener('trayAdded', handleTrayAdded);
    window.removeEventListener('trayUpdated', handleTrayUpdated);
  };
}, []);

ADD VISUAL INDICATOR IN TASK CARD:
jsx// In TaskCard component
{(task.type === 'Seeding - Microgreens' || task.type === 'Seeding - Leafy Greens') && (
  <div className="task-badge tray-generator">
    ðŸŒ± Generates Tray
  </div>
)}


This implementation:

Automatically generates unique tray IDs with the format: K071725-MG-BROC-1C
Creates trays when seeding tasks are completed
Allows configuration in recurring tasks
Tracks which task created which tray
Updates the production dashboard in real-time
Supports multiple tray generation for larger seeding tasks