# Replit Instructions: Find and Fix Inventory Field Names Directly

**TASK: Find the actual field names used in inventory and fix the edit form WITHOUT adding debug buttons**

## Step 1: Find Where Inventory Items Are Created/Saved

Search the codebase for where inventory items are saved to localStorage:

```bash
# Search for inventory save operations
Search for: "setItem.*inventory"
Search for: "localStorage.setItem('inventory'"
Search for: "addInventoryItem"
Search for: "saveInventoryItem"
Search for: "createInventoryItem"
```

Look at what fields are being saved. The save function will show the actual structure like:
```javascript
const newItem = {
  name: formData.name,        // <-- Check what it's actually called
  quantity: formData.quantity, // <-- This might be the currentStock field
  // ... etc
};
```

## Step 2: Find the Inventory Display Component

Search for where the inventory cards/table displays the data:

```bash
# Search for the display that shows "450 grams"
Search for: "450"
Search for: "Current Stock"
Search for: "grams"
Search for: "{item." (to find how items are displayed)
```

The display component that correctly shows "450 grams" MUST be reading the right field name. Find code like:
```javascript
<p>Current Stock: {item.FIELDNAME} {item.UNIT}</p>  // <-- What's FIELDNAME?
```

## Step 3: Compare Display vs Edit Form

Once you find how the display works:

1. **Display shows:** `{item.quantity} {item.unit}` (for example)
2. **Edit form expects:** `currentStock`
3. **Fix:** Change edit form to use `quantity` instead of `currentStock`

## Step 4: Fix the Edit Form Directly

In the Edit Inventory Modal, change the field names to match what's actually in the data:

```javascript
// WRONG - using field names that don't exist
setFormData({
  currentStock: item.currentStock || 0,  // This returns 0 because currentStock doesn't exist
  minimumStock: item.minimumStock || 0
});

// RIGHT - using the actual field names from the display
setFormData({
  currentStock: item.quantity || 0,      // If display uses item.quantity
  minimumStock: item.reorderLevel || 0   // If display uses item.reorderLevel
});
```

## Step 5: Fix the Save Function

Make sure when saving edited items, you use the same field names:

```javascript
const handleSave = () => {
  const updatedItem = {
    ...item,
    quantity: formData.currentStock,      // Save to the field name that exists
    reorderLevel: formData.minimumStock,  // Not minimumStock if that's not the real field
    // ... etc
  };
};
```

## Step 6: Search for the Actual Field Names

Run these specific searches to find the real field names:

```bash
# For stock/quantity fields
Search for: "450" (the Arugula stock value we can see)
Search for: "800" (the Broccoli stock value)

# When you find where 450 is displayed, look at the code:
# It might be: <td>{item.quantity}</td>
# Or: <span>{item.stock} grams</span>
# Or: <div>Current Stock: {item.onHand}</div>

# For SKU field
Search for: "ARUG" (if it exists in the data)
Search for: "sku" (case insensitive)
Search for: "SKU"
Search for: "code"

# For cost fields  
Search for: "cost"
Search for: "price"
Search for: "$0.00"
```

## The Key Point:

The inventory display is showing the correct values (450 grams, 100 grams), so:
1. Find that display code
2. See what field names it uses
3. Use those same field names in the edit form

Don't add new fields or change the data structure - just use the field names that already exist and are working in the display!