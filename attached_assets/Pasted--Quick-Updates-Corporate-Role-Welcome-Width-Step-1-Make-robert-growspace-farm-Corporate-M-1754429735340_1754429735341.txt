# Quick Updates: Corporate Role & Welcome Width

## Step 1: Make robert@growspace.farm Corporate Manager

Update your user role checking function in `App.tsx` or wherever you handle user initialization:

```tsx
// In your checkExistingUser or user initialization function
async function checkExistingUser(email) {
  // Check for specific corporate users
  const corporateEmails = [
    'robert@growspace.farm',
    'matt@growspace.farm',
    'matt.carlson@growspace.farm'
  ];
  
  if (corporateEmails.includes(email.toLowerCase())) {
    return {
      role: 'Corporate',
      isManager: true,
      isCorporateManager: true
    };
  }
  
  // Check staff data for other users
  const staffData = JSON.parse(localStorage.getItem('staffData') || '[]');
  const existingUser = staffData.find(staff => staff.email === email);
  
  if (existingUser) {
    return existingUser;
  }
  
  // Default for new users
  return {
    role: 'Staff',
    isManager: false,
    isCorporateManager: false
  };
}

// Update the user initialization
const user = {
  id: account.localAccountId || account.homeAccountId,
  name: account.name,
  email: account.username,
  role: 'Staff',
  isManager: false,
  isCorporateManager: false,
  location: 'Kenosha'
};

// Apply role from existing user check
const existingUser = await checkExistingUser(account.username);
if (existingUser) {
  user.role = existingUser.role;
  user.isManager = existingUser.isManager;
  user.isCorporateManager = existingUser.isCorporateManager;
}
```

## Step 2: Fix Welcome Header Width

Find your header component and update the CSS:

```css
/* Header Welcome Section */
.header-welcome {
  display: flex;
  align-items: center;
  gap: 8px;
  min-width: 200px; /* Add minimum width */
  white-space: nowrap; /* Prevent wrapping */
}

.header-user-name {
  font-weight: 500;
  color: #333;
  overflow: hidden;
  text-overflow: ellipsis; /* Add ... for very long names */
  max-width: 300px; /* Maximum width before ellipsis */
}

/* If using a fixed header layout */
.header-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 24px;
}

.header-left {
  flex: 1;
  min-width: 0; /* Allow flex item to shrink */
}

.header-center {
  flex: 0 0 auto;
}

.header-right {
  flex: 1;
  display: flex;
  justify-content: flex-end;
  min-width: 0;
}
```

## Step 3: Update Header Component

If your header component looks like this, update it:

```tsx
const Header = () => {
  const { currentUser } = useContext(UserContext);
  
  return (
    <header className="header-container">
      <div className="header-left">
        <div className="header-welcome">
          <span>Welcome,</span>
          <span className="header-user-name">{currentUser?.name || 'User'}</span>
        </div>
      </div>
      
      <div className="header-center">
        {/* Date picker or other center content */}
      </div>
      
      <div className="header-right">
        {/* Right side content */}
      </div>
    </header>
  );
};
```

## Step 4: Add Staff Data Entry (Optional)

If you want to manage this through Staff Data instead of hardcoding:

```tsx
// Add to your Staff Data initialization
const defaultCorporateStaff = [
  {
    id: 'robert-carlson',
    name: 'Robert Carlson',
    email: 'robert@growspace.farm',
    role: 'Corporate',
    roles: ['Corporate Manager'],
    location: 'Kenosha',
    isManager: true,
    isCorporateManager: true
  },
  {
    id: 'matt-carlson',
    name: 'Matt Carlson',
    email: 'matt@growspace.farm',
    role: 'Corporate',
    roles: ['Corporate Manager'],
    location: 'Kenosha',
    isManager: true,
    isCorporateManager: true
  }
];
```

## Quick Test:
1. Sign out and sign back in with robert@growspace.farm
2. You should see all manager pages (Staff Data, Recurring Tasks, etc.)
3. You should be able to create education courses
4. Long names should display properly in the header

The welcome header will now accommodate longer names without breaking the layout!