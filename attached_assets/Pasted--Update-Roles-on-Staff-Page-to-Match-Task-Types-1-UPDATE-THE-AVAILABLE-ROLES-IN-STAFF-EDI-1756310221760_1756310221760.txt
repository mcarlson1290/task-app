# ðŸŽ­ Update Roles on Staff Page to Match Task Types

## 1. UPDATE THE AVAILABLE ROLES IN STAFF EDIT MODAL

Find your Staff Edit Modal component and update the available roles array:

```javascript
// In your StaffEditModal component, replace the existing availableRoles with:

const availableRoles = [
  'Microgreens Seeder',
  'Leafy Greens Seeder',
  'Microgreens Harvester',
  'Leafy Greens Harvester',
  'Blackout Specialist',
  'Moving Tech',
  'Packing Tech',
  'Cleaning Crew',
  'Inventory Tech',
  'Equipment Tech',
  'Manager',
  'General Staff'
];
```

## 2. UPDATE THE ROLES CHECKBOXES SECTION

In the same modal, find where the role checkboxes are rendered and ensure they display properly:

```javascript
// In the roles assignment section of your form
<div className="form-section">
  <h3>ðŸ‘¤ Assigned Roles</h3>
  <div className="roles-grid">
    {availableRoles.map(role => (
      <label key={role} className="checkbox-label">
        <input
          type="checkbox"
          checked={formData.rolesAssigned.includes(role)}
          onChange={(e) => {
            if (e.target.checked) {
              setFormData({
                ...formData,
                rolesAssigned: [...formData.rolesAssigned, role]
              });
            } else {
              setFormData({
                ...formData,
                rolesAssigned: formData.rolesAssigned.filter(r => r !== role)
              });
            }
          }}
        />
        {role}
      </label>
    ))}
  </div>
  {errors.roles && <span className="error-text">{errors.roles}</span>}
</div>
```

## 3. UPDATE THE STAFF LIST DISPLAY

Update how roles are displayed in the staff list/table:

```javascript
// In your staff list component, update the role display
<td className="roles-cell">
  {staff.rolesAssigned && staff.rolesAssigned.length > 0 ? (
    <div className="role-badges">
      {staff.rolesAssigned.map(role => (
        <span key={role} className={`role-badge role-${role.toLowerCase().replace(/\s+/g, '-')}`}>
          {getRoleIcon(role)} {role}
        </span>
      ))}
    </div>
  ) : (
    <span className="no-roles">No roles assigned</span>
  )}
</td>

// Add helper function for role icons
const getRoleIcon = (role) => {
  const roleIcons = {
    'Microgreens Seeder': 'ðŸŒ±',
    'Leafy Greens Seeder': 'ðŸ¥¬',
    'Microgreens Harvester': 'âœ‚ï¸',
    'Leafy Greens Harvester': 'ðŸ¥—',
    'Blackout Specialist': 'ðŸŒ‘',
    'Moving Tech': 'ðŸ“¦',
    'Packing Tech': 'ðŸ“‹',
    'Cleaning Crew': 'ðŸ§¹',
    'Inventory Tech': 'ðŸ“Š',
    'Equipment Tech': 'ðŸ”§',
    'Manager': 'ðŸ‘”',
    'General Staff': 'ðŸ‘¥'
  };
  return roleIcons[role] || 'ðŸ‘¤';
};
```

## 4. ADD COLOR-CODED ROLE BADGES (CSS)

Add these styles to make roles visually distinct:

```css
/* Role badges in staff list */
.roles-cell {
  max-width: 300px;
}

.role-badges {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
}

.role-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
  white-space: nowrap;
}

/* Color coding for different role types */
.role-microgreens-seeder,
.role-leafy-greens-seeder {
  background: #d1fae5;
  color: #065f46;
}

.role-microgreens-harvester,
.role-leafy-greens-harvester {
  background: #fed7aa;
  color: #9a3412;
}

.role-blackout-specialist {
  background: #e0e7ff;
  color: #3730a3;
}

.role-moving-tech,
.role-packing-tech {
  background: #fce7f3;
  color: #831843;
}

.role-cleaning-crew {
  background: #ccfbf1;
  color: #134e4a;
}

.role-inventory-tech {
  background: #ede9fe;
  color: #5b21b6;
}

.role-equipment-tech {
  background: #fee2e2;
  color: #991b1b;
}

.role-manager {
  background: #fef3c7;
  color: #78350f;
}

.role-general-staff {
  background: #f3f4f6;
  color: #374151;
}

.no-roles {
  color: #9ca3af;
  font-style: italic;
  font-size: 13px;
}

/* Roles grid in edit modal */
.roles-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 12px;
  padding: 12px;
  background: #f9fafb;
  border-radius: 8px;
  max-height: 300px;
  overflow-y: auto;
}

.checkbox-label {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px;
  border-radius: 6px;
  cursor: pointer;
  transition: background 0.2s;
  font-size: 14px;
}

.checkbox-label:hover {
  background: #e5e7eb;
}

.checkbox-label input[type="checkbox"] {
  width: 18px;
  height: 18px;
  cursor: pointer;
}
```

## 5. UPDATE STAFF ANALYTICS (OPTIONAL)

If you have a staff analytics section, update it to group by the new roles:

```javascript
// In staff analytics component
const getRoleDistribution = () => {
  const roleCount = {};
  
  staff.forEach(member => {
    if (member.activeStatus === 'active') {
      member.rolesAssigned.forEach(role => {
        roleCount[role] = (roleCount[role] || 0) + 1;
      });
    }
  });
  
  return Object.entries(roleCount)
    .sort(([,a], [,b]) => b - a)
    .map(([role, count]) => ({
      role,
      count,
      icon: getRoleIcon(role),
      percentage: Math.round((count / activeStaff.length) * 100)
    }));
};
```

## 6. DATA MIGRATION (IF NEEDED)

If you have existing staff with old role names, create a migration script:

```javascript
// Migration helper to update existing roles
const migrateRoles = async () => {
  const roleMapping = {
    // Old role -> New role
    'Seeding Tech': 'General Staff',
    'Harvest Tech': 'General Staff',
    'General Staff': 'General Staff',
    // Add any other old roles here
  };
  
  const staff = await readData('staff.json');
  
  const updatedStaff = staff.map(member => {
    const updatedRoles = member.rolesAssigned.map(oldRole => {
      // If it's an old role, map it, otherwise keep it
      return roleMapping[oldRole] || oldRole;
    });
    
    return {
      ...member,
      rolesAssigned: [...new Set(updatedRoles)] // Remove duplicates
    };
  });
  
  await saveData('staff.json', updatedStaff);
  console.log('Roles migration complete!');
};
```

## Testing Instructions

1. **Edit a staff member** - Verify all 12 roles appear in the checkboxes
2. **Assign multiple roles** - Test that staff can have multiple roles
3. **Save and reload** - Ensure roles persist correctly
4. **Check the list view** - Verify roles display with icons and colors
5. **Test task assignment** - Create a task and verify roles appear in assignment dropdown

## Complete Role List Reference

1. **Microgreens Seeder** - For "Seeding - Microgreens" tasks
2. **Leafy Greens Seeder** - For "Seeding - Leafy Greens" tasks
3. **Microgreens Harvester** - For "Harvest - Microgreens" tasks
4. **Leafy Greens Harvester** - For "Harvest - Leafy Greens" tasks
5. **Blackout Specialist** - For "Blackout Tasks"
6. **Moving Tech** - For "Moving" tasks
7. **Packing Tech** - For "Packing" tasks
8. **Cleaning Crew** - For "Cleaning" tasks
9. **Inventory Tech** - For "Inventory" tasks
10. **Equipment Tech** - For "Equipment Maintenance" tasks
11. **Manager** - Can handle all task types
12. **General Staff** - Flexible role for various tasks