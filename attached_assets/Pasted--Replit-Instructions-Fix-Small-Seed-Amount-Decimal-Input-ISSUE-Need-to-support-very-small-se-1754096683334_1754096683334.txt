# Replit Instructions: Fix Small Seed Amount Decimal Input

**ISSUE: Need to support very small seed amounts (e.g., 0.012 oz for 8 seeds)**

## Step 1: Find the Seeds (oz) Input Field

Look for the input field that handles seed amounts in ounces. It's likely in the Default Crop Varieties section.

## Step 2: Update Input Configuration

Change the input to properly handle small decimals:

```tsx
<input
  type="number"
  value={seedAmount}
  onChange={(e) => handleSeedAmountChange(e.target.value)}
  step="0.001"      // Allow increments of 0.001
  min="0.001"       // Minimum of 0.001 oz
  max="10"          // Reasonable maximum
  placeholder="0.000"
  className="form-control"
  style={{ width: '100px' }}
/>
```

## Step 3: Fix Number Parsing

Make sure the handler preserves decimal precision:

```tsx
const handleSeedAmountChange = (varietyId, value) => {
  // Don't use parseInt - use parseFloat to keep decimals
  const amount = parseFloat(value) || 0;
  
  // Allow up to 3 decimal places
  const rounded = Math.round(amount * 1000) / 1000;
  
  updateVariety(varietyId, {
    seedsOz: rounded
  });
};
```

## Step 4: Update Display Format

When displaying, show proper decimal places:

```tsx
// Display with 3 decimal places
const displayAmount = seedsOz.toFixed(3);

// Or remove trailing zeros
const displayAmount = parseFloat(seedsOz.toFixed(3)).toString();
```

## Step 5: Update Validation

Allow very small amounts in validation:

```tsx
const validateSeedAmount = (amount) => {
  const value = parseFloat(amount);
  
  // Allow amounts as small as 0.001 oz
  if (value < 0.001) {
    return "Minimum seed amount is 0.001 oz";
  }
  
  if (value > 10) {
    return "Maximum seed amount is 10 oz";
  }
  
  return null; // Valid
};
```

## Step 6: Consider Alternative Units

For very small amounts, you might want to add a unit selector:

```tsx
// Option to switch between oz and grams
<select value={unit} onChange={(e) => setUnit(e.target.value)}>
  <option value="oz">oz</option>
  <option value="g">grams</option>
  <option value="seeds">seed count</option>
</select>
```

## Common Issues to Fix:
- `step="1"` or `step="0.1"` is too coarse - use `step="0.001"`
- Using `parseInt()` instead of `parseFloat()`
- Not allowing decimals in validation
- Input width too narrow to show full decimal

The key is making sure the input accepts very small decimal values since you're measuring tiny amounts of seeds!