# üéÆ Gamified Task Progress Bars

## 1. PROGRESS BAR COMPONENT

```javascript
import React, { useState, useEffect } from 'react';

const GamifiedProgressBars = ({ tasks, currentUser, selectedDate }) => {
  const today = new Date().toISOString().split('T')[0];
  const [currentAffirmation, setCurrentAffirmation] = useState(0);
  
  // Only show for today view
  if (selectedDate !== today) return null;
  
  // Affirmations pool
  const affirmations = [
    "Keep crushing it! üí™",
    "You're doing amazing!",
    "Only {percent}% left to go!",
    "Progress, not perfection!",
    "Every task counts!",
    "You've got this!",
    "Momentum is building!",
    "One task at a time!",
    "Stay focused, stay strong!",
    "Almost there!",
    "Making it happen!",
    "Productivity champion!",
    "Keep the streak alive!",
    "You're unstoppable!",
    "Great progress today!",
    "Winning the day!",
    "Task master in action!",
    "Building great habits!",
    "Excellence in motion!",
    "Today is your day!",
    "Crushing those goals!",
    "Keep pushing forward!",
    "Success is a journey!",
    "You're on fire! üî•",
    "Making waves!",
    "Champion mindset!",
    "Consistency is key!",
    "Progress over perfection!",
    "Small wins add up!",
    "You're making it happen!"
  ];
  
  // Rotate affirmations
  useEffect(() => {
    const interval = setInterval(() => {
      setCurrentAffirmation((prev) => (prev + 1) % affirmations.length);
    }, 5000); // Change every 5 seconds
    
    return () => clearInterval(interval);
  }, []);
  
  // Calculate task stats for all tasks
  const teamStats = {
    overdue: tasks.filter(t => t.dueDate < today && t.status === 'pending').length,
    pending: tasks.filter(t => t.status === 'pending' && t.dueDate >= today).length,
    inProgress: tasks.filter(t => t.status === 'in_progress').length,
    paused: tasks.filter(t => t.status === 'paused').length,
    completed: tasks.filter(t => t.status === 'completed').length,
    skipped: tasks.filter(t => t.status === 'skipped').length,
  };
  
  // Calculate stats for user's tasks only
  const myTasks = tasks.filter(task => {
    if (!currentUser || !task.assignTo) return false;
    
    if (task.assignTo === `user_${currentUser.id}`) return true;
    if (task.assignTo === 'all_staff' && currentUser.id) return true;
    
    if (task.assignTo?.startsWith('role_')) {
      const roleName = task.assignTo.replace('role_', '');
      return currentUser.rolesAssigned?.includes(roleName) || false;
    }
    
    return false;
  });
  
  const myStats = {
    overdue: myTasks.filter(t => t.dueDate < today && t.status === 'pending').length,
    pending: myTasks.filter(t => t.status === 'pending' && t.dueDate >= today).length,
    inProgress: myTasks.filter(t => t.status === 'in_progress').length,
    paused: myTasks.filter(t => t.status === 'paused').length,
    completed: myTasks.filter(t => t.status === 'completed').length,
    skipped: myTasks.filter(t => t.status === 'skipped').length,
  };
  
  const teamTotal = Object.values(teamStats).reduce((a, b) => a + b, 0);
  const myTotal = Object.values(myStats).reduce((a, b) => a + b, 0);
  
  const teamCompletedPercent = teamTotal > 0 
    ? Math.round(((teamStats.completed + teamStats.skipped) / teamTotal) * 100)
    : 0;
    
  const myCompletedPercent = myTotal > 0
    ? Math.round(((myStats.completed + myStats.skipped) / myTotal) * 100)
    : 0;
  
  // Get affirmation with percent replaced
  const getAffirmation = (percent) => {
    let message = affirmations[currentAffirmation];
    message = message.replace('{percent}', 100 - percent);
    return message;
  };
  
  // Render progress bar
  const renderProgressBar = (stats, total, label, isPersonal = false) => {
    if (total === 0) {
      return (
        <div className="progress-bar-container">
          <div className="progress-label">
            <span>{label}</span>
            <span className="progress-text">No tasks today!</span>
          </div>
          <div className="progress-bar-empty">
            <div className="empty-message">üéâ All clear!</div>
          </div>
        </div>
      );
    }
    
    return (
      <div className="progress-bar-container">
        <div className="progress-label">
          <span>{label}</span>
          <span className="progress-count">{stats.completed + stats.skipped}/{total} tasks</span>
        </div>
        
        <div className="progress-bar">
          {/* Overdue */}
          {stats.overdue > 0 && (
            <div 
              className="progress-segment overdue"
              style={{ width: `${(stats.overdue / total) * 100}%` }}
              title={`${stats.overdue} overdue`}
            >
              {stats.overdue > 2 && <span>{stats.overdue}</span>}
            </div>
          )}
          
          {/* Pending */}
          {stats.pending > 0 && (
            <div 
              className="progress-segment pending"
              style={{ width: `${(stats.pending / total) * 100}%` }}
              title={`${stats.pending} pending`}
            >
              {stats.pending > 2 && <span>{stats.pending}</span>}
            </div>
          )}
          
          {/* In Progress */}
          {stats.inProgress > 0 && (
            <div 
              className="progress-segment in-progress"
              style={{ width: `${(stats.inProgress / total) * 100}%` }}
              title={`${stats.inProgress} in progress`}
            >
              {stats.inProgress > 2 && <span>{stats.inProgress}</span>}
            </div>
          )}
          
          {/* Paused */}
          {stats.paused > 0 && (
            <div 
              className="progress-segment paused"
              style={{ width: `${(stats.paused / total) * 100}%` }}
              title={`${stats.paused} paused`}
            >
              {stats.paused > 2 && <span>{stats.paused}</span>}
            </div>
          )}
          
          {/* Completed */}
          {stats.completed > 0 && (
            <div 
              className="progress-segment completed"
              style={{ width: `${(stats.completed / total) * 100}%` }}
              title={`${stats.completed} completed`}
            >
              {stats.completed > 2 && <span>{stats.completed}</span>}
            </div>
          )}
          
          {/* Skipped */}
          {stats.skipped > 0 && (
            <div 
              className="progress-segment skipped"
              style={{ width: `${(stats.skipped / total) * 100}%` }}
              title={`${stats.skipped} skipped`}
            >
              {stats.skipped > 2 && <span>{stats.skipped}</span>}
            </div>
          )}
        </div>
        
        <div className="progress-percentage">
          {isPersonal ? myCompletedPercent : teamCompletedPercent}% Complete
        </div>
      </div>
    );
  };
  
  return (
    <div className="gamified-progress-container">
      <div className="affirmation-message">
        {getAffirmation(myTotal > 0 ? myCompletedPercent : teamCompletedPercent)}
      </div>
      
      <div className="progress-bars-wrapper">
        {renderProgressBar(teamStats, teamTotal, "üè¢ Team Progress")}
        {currentUser && renderProgressBar(myStats, myTotal, "üë§ My Progress", true)}
      </div>
      
      <div className="progress-legend">
        <div className="legend-item">
          <span className="legend-color overdue"></span>
          <span>Overdue</span>
        </div>
        <div className="legend-item">
          <span className="legend-color pending"></span>
          <span>Pending</span>
        </div>
        <div className="legend-item">
          <span className="legend-color in-progress"></span>
          <span>In Progress</span>
        </div>
        <div className="legend-item">
          <span className="legend-color completed"></span>
          <span>Completed</span>
        </div>
      </div>
    </div>
  );
};

export default GamifiedProgressBars;
```

## 2. CSS STYLING

```css
/* Gamified Progress Container */
.gamified-progress-container {
  background: white;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  position: relative;
  overflow: hidden;
}

/* Affirmation Message */
.affirmation-message {
  text-align: center;
  font-size: 18px;
  font-weight: 600;
  color: #1f2937;
  margin-bottom: 20px;
  animation: fadeIn 0.5s ease-in;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-5px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Progress Bars Wrapper */
.progress-bars-wrapper {
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin-bottom: 16px;
}

/* Progress Bar Container */
.progress-bar-container {
  position: relative;
}

.progress-label {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  font-size: 14px;
  font-weight: 500;
  color: #4b5563;
}

.progress-count {
  font-size: 12px;
  color: #6b7280;
}

/* Progress Bar */
.progress-bar {
  height: 32px;
  background: #f3f4f6;
  border-radius: 16px;
  overflow: hidden;
  display: flex;
  position: relative;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06);
}

.progress-bar-empty {
  height: 32px;
  background: #f3f4f6;
  border-radius: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #9ca3af;
  font-size: 14px;
}

/* Progress Segments */
.progress-segment {
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 12px;
  font-weight: 600;
  transition: all 0.3s ease;
  position: relative;
}

.progress-segment span {
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

/* Segment Colors */
.progress-segment.overdue {
  background: #ef4444;
  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
}

.progress-segment.pending {
  background: #f59e0b;
  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
}

.progress-segment.in-progress {
  background: #3b82f6;
  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
}

.progress-segment.paused {
  background: #8b5cf6;
  background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
}

.progress-segment.completed {
  background: #10b981;
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
}

.progress-segment.skipped {
  background: #6b7280;
  background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);
}

/* Progress Percentage */
.progress-percentage {
  position: absolute;
  right: 0;
  top: -20px;
  font-size: 12px;
  font-weight: 600;
  color: #10b981;
}

/* Legend */
.progress-legend {
  display: flex;
  justify-content: center;
  gap: 16px;
  flex-wrap: wrap;
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid #e5e7eb;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  color: #6b7280;
}

.legend-color {
  width: 12px;
  height: 12px;
  border-radius: 3px;
}

.legend-color.overdue { background: #ef4444; }
.legend-color.pending { background: #f59e0b; }
.legend-color.in-progress { background: #3b82f6; }
.legend-color.completed { background: #10b981; }

/* Mobile Responsive */
@media (max-width: 640px) {
  .gamified-progress-container {
    padding: 16px;
    margin-bottom: 16px;
  }
  
  .affirmation-message {
    font-size: 16px;
    margin-bottom: 16px;
  }
  
  .progress-bar {
    height: 28px;
  }
  
  .progress-segment span {
    font-size: 10px;
  }
  
  /* Hide numbers on small segments on mobile */
  .progress-segment {
    min-width: 0;
  }
  
  .progress-segment span {
    display: none;
  }
  
  /* Simplified legend on mobile */
  .progress-legend {
    gap: 12px;
  }
  
  .legend-item {
    font-size: 11px;
  }
  
  .legend-color {
    width: 10px;
    height: 10px;
  }
  
  /* Stack percentage below bar on mobile */
  .progress-percentage {
    position: static;
    text-align: right;
    margin-top: 4px;
  }
}

/* Animations */
.progress-segment {
  animation: slideIn 0.5s ease-out;
}

@keyframes slideIn {
  from { transform: scaleX(0); }
  to { transform: scaleX(1); }
}

/* Hover Effects */
.progress-segment:hover {
  opacity: 0.9;
  transform: scaleY(1.1);
}
```

## 3. USAGE IN TASKS PAGE

```javascript
// In your TasksPage component
import GamifiedProgressBars from './GamifiedProgressBars';

const TasksPage = () => {
  // ... existing code ...
  
  return (
    <div className="tasks-page">
      {/* Replace TaskStatistics with GamifiedProgressBars */}
      <GamifiedProgressBars 
        tasks={filteredTasks}
        currentUser={currentUser}
        selectedDate={filters.date}
      />
      
      {/* Rest of your page */}
    </div>
  );
};
```

## Key Features:

1. **Dual Progress Bars** - Team progress and personal progress
2. **Color-coded Segments** - Different colors for each status
3. **Rotating Affirmations** - 30 motivational messages that change every 5 seconds
4. **Mobile Optimized** - Simplified view on small screens
5. **No Scrolling** - Everything fits within viewport
6. **Only Shows for Today** - Hidden when viewing other dates
7. **Smooth Animations** - Segments slide in and affirmations fade