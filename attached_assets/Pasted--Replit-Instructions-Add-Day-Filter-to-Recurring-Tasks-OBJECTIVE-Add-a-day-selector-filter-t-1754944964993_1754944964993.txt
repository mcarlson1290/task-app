# Replit Instructions: Add Day Filter to Recurring Tasks

**OBJECTIVE: Add a day selector filter to see which tasks are scheduled for specific days of the week.**

## Step 1: Add Day Filter State

Add a new state variable for the day filter:

```jsx
const RecurringTasksPage = () => {
  // Existing state...
  const [searchTerm, setSearchTerm] = useState('');
  const [typeFilter, setTypeFilter] = useState('all');
  const [frequencyFilter, setFrequencyFilter] = useState('all');
  
  // ADD NEW DAY FILTER STATE:
  const [dayFilter, setDayFilter] = useState('all');
  
  // Rest of component...
};
```

## Step 2: Add Day Filter Dropdown

Add the day filter dropdown after the frequency filter:

```jsx
{/* After the Frequency Filter, ADD: */}
{/* Day Filter */}
<div className="filter-group">
  <select
    value={dayFilter}
    onChange={(e) => setDayFilter(e.target.value)}
    className="filter-select"
  >
    <option value="all">All Days</option>
    <option value="monday">Monday</option>
    <option value="tuesday">Tuesday</option>
    <option value="wednesday">Wednesday</option>
    <option value="thursday">Thursday</option>
    <option value="friday">Friday</option>
    <option value="saturday">Saturday</option>
    <option value="sunday">Sunday</option>
  </select>
</div>
```

## Step 3: Update Clear Filters Button

Update the clear filters condition and action to include the day filter:

```jsx
{/* Update the condition to show Clear Filters button */}
{(searchTerm || typeFilter !== 'all' || frequencyFilter !== 'all' || dayFilter !== 'all') && (
  <button 
    onClick={() => {
      setSearchTerm('');
      setTypeFilter('all');
      setFrequencyFilter('all');
      setDayFilter('all'); // ADD THIS
    }}
    className="btn-clear-filters"
  >
    âœ• Clear Filters
  </button>
)}
```

## Step 4: Add Day Filter Logic

Update the filter logic to include day filtering:

```jsx
const filteredRecurringTasks = useMemo(() => {
  let filtered = [...recurringTasks];
  
  // Existing search filter...
  if (searchTerm) {
    const search = searchTerm.toLowerCase();
    filtered = filtered.filter(task => 
      task.title.toLowerCase().includes(search) ||
      (task.description && task.description.toLowerCase().includes(search)) ||
      (task.assignedTo && task.assignedTo.toLowerCase().includes(search))
    );
  }
  
  // Existing type filter...
  if (typeFilter !== 'all') {
    filtered = filtered.filter(task => 
      task.type && task.type.toLowerCase() === typeFilter.toLowerCase()
    );
  }
  
  // Existing frequency filter...
  if (frequencyFilter !== 'all') {
    // ... existing frequency logic ...
  }
  
  // ADD DAY FILTER:
  if (dayFilter !== 'all') {
    filtered = filtered.filter(task => {
      const taskFreq = task.frequency.toLowerCase();
      
      // For weekly tasks, check if the selected day is included
      if (taskFreq.includes(dayFilter)) {
        return true;
      }
      
      // For bi-weekly tasks on 1st and 15th
      if (taskFreq.includes('bi-weekly') || taskFreq.includes('biweekly')) {
        // Bi-weekly tasks happen on multiple days, so they show for all day filters
        return true;
      }
      
      // For monthly tasks
      if (taskFreq.includes('monthly')) {
        // Monthly tasks can be done any day, so they show for all day filters
        return true;
      }
      
      return false;
    });
  }
  
  return filtered;
}, [recurringTasks, searchTerm, typeFilter, frequencyFilter, dayFilter]); // ADD dayFilter to dependencies
```

## Step 5: Optional - Add Visual Day Indicators

To make it clearer which days each task runs on, you could add day badges to the task cards:

```jsx
// In your task card component, add day indicators:
const getDayBadges = (frequency) => {
  const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];
  const dayAbbr = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
  
  return days.map((day, index) => {
    if (frequency.toLowerCase().includes(day)) {
      return (
        <span key={day} className="day-badge active">
          {dayAbbr[index]}
        </span>
      );
    }
    return null;
  }).filter(Boolean);
};

// In the task card render:
<div className="task-days">
  {getDayBadges(task.frequency)}
</div>
```

## Step 6: Add CSS for Day Badges (Optional)

```css
.task-days {
  display: flex;
  gap: 4px;
  margin-top: 8px;
}

.day-badge {
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 500;
}

.day-badge.active {
  background: #10b981;
  color: white;
}
```

## Summary

This adds a day filter that allows users to see:
- **Monday** - Shows all tasks scheduled for Monday
- **Tuesday** - Shows all tasks scheduled for Tuesday
- etc.

The filter is smart enough to:
- Show weekly tasks only on their scheduled days
- Show bi-weekly and monthly tasks for all days (since they can be done any day)
- Work in combination with other filters